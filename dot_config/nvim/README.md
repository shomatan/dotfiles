# Neovim設定

LazyVimベースのNeovim設定です。

## キーバインド

### カスタムキーバインド

| キー | 動作 | プラグイン |
|------|------|-----------|
| `-` | 親ディレクトリを開く | Oil |
| `<leader>e` | Explorer (Oil) | Oil |
| `q` | Oilを閉じる | Oil |
| `<leader>aa` | Claude Codeを開く | Sidekick |

### LazyVimデフォルト（よく使うもの）

#### ファイル操作
| キー | 動作 |
|------|------|
| `<leader><leader>` | ファイル検索 |
| `<leader>ff` | ファイル検索 |
| `<leader>fr` | 最近のファイル |
| `<leader>fb` | バッファ検索 |

#### 検索
| キー | 動作 |
|------|------|
| `<leader>sg` | 文字列検索（grep） |
| `<leader>sw` | カーソル下の単語を検索 |
| `<leader>/` | バッファ内検索 |
| `<leader>:` | コマンド履歴 |

#### バッファ操作
| キー | 動作 |
|------|------|
| `<S-h>` | 前のバッファ |
| `<S-l>` | 次のバッファ |
| `<leader>bb` | バッファ一覧 |
| `<leader>bd` | バッファを閉じる |
| `<C-^>` | 直前のバッファに戻る |

#### ウィンドウ操作
| キー | 動作 |
|------|------|
| `<C-h/j/k/l>` | ウィンドウ移動 |
| `<leader>w` | ウィンドウ操作 |

#### LSP / コード
| キー | 動作 |
|------|------|
| `gd` | 定義へジャンプ |
| `gr` | 参照検索 |
| `K` | ドキュメント表示 |
| `<leader>ca` | コードアクション |
| `<leader>cr` | リネーム |

#### Git
| キー | 動作 |
|------|------|
| `<leader>gg` | Lazygit |
| `<leader>gb` | Git blame |

#### ターミナル
| キー | 動作 |
|------|------|
| `<C-/>` | ターミナル（トグル） |
| `<leader>ft` | フローティングターミナル |
| `<C-j><C-j>` | ターミナルモードから抜ける（分割キーボード向け） |
| `<C-j>q` | AIビューを閉じる |

#### その他
| キー | 動作 |
|------|------|
| `<leader>xx` | 診断一覧 (Trouble) |
| `<leader>qs` | セッション保存 |
| `<leader>qr` | セッション復元 |

## Oil.nvim（ファイラー）

neo-treeを無効化し、oil.nvimを使用。バッファのようにファイルシステムを編集可能。

### 起動

| キー | 機能 |
|------|------|
| `-` | 親ディレクトリを開く |
| `<leader>e` | ファイラーを開く |

### ナビゲーション

| キー | 機能 | 備考 |
|------|------|------|
| `Enter` | ファイル/ディレクトリを開く ||
| `-` | 親ディレクトリへ移動 ||
| `_` | カレントワーキングディレクトリを開く ||

### ウィンドウ操作

| キー | 機能 | 備考 |
|------|------|------|
| `<C-s>` | 垂直分割で開く ||
| `<C-t>` | 新しいタブで開く ||
| `<C-p>` | プレビュー表示 ||
| `<C-h>` | ~~水平分割~~ | 無効化（ウィンドウ移動優先） |
| `<C-l>` | ~~リフレッシュ~~ | 無効化（ウィンドウ移動優先） |

### バッファ操作

| キー | 機能 |
|------|------|
| `q` | 閉じる（カスタム） |
| `<C-c>` | 閉じる |

### ディレクトリ変更

| キー | 機能 |
|------|------|
| `` ` `` | `:cd` を実行（グローバル） |
| `~` | `:tcd` を実行（タブローカル） |

### 表示切り替え

| キー | 機能 |
|------|------|
| `g.` | 隠しファイルの表示/非表示切替 |
| `gs` | ソート順を変更 |
| `g\` | ゴミ箱表示の切替 |
| `g?` | ヘルプ（キーバインド一覧）を表示 |
| `gx` | 外部アプリで開く |

### ファイル操作（バッファ編集）

| 操作 | 方法 |
|------|------|
| 作成 | 新しい行に名前を入力 → `:w` |
| 削除 | `dd` で行削除 → `:w` |
| リネーム | ファイル名を編集 → `:w` |
| 移動 | `dd` → 移動先で `p` → `:w` |
| コピー | `yy` → 移動先で `p` → `:w` |

## プラグイン構成

- **Oil.nvim**: ファイルエクスプローラー（neo-tree無効化）
- **Sidekick.nvim**: Claude Code連携
- **Flutter-tools.nvim**: Flutter/Dart開発環境
